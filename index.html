<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>mellstroy.game</title>

  <!-- –®—Ä–∏—Ñ—Ç—ã -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Rubik+Bubbles&display=swap"
    rel="stylesheet"
  />

  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <!-- ===== –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø (–õ–û–ì–ò–ù / –†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø) ===== -->
  <section id="authView" class="page page-auth">
    <div class="auth-card glass-card">
      <div class="auth-header">
        <div class="logo-dot"></div>
        <div class="site-name bubble-logo">mellstroy.game</div>
      </div>

      <div class="auth-tabs">
        <button id="authLoginTab" class="auth-tab active">–í–æ–π—Ç–∏</button>
        <button id="authRegisterTab" class="auth-tab">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
      </div>

      <!-- –õ–û–ì–ò–ù -->
      <div id="loginForm" class="auth-form">
        <label class="input">
          <span>–ù–∏–∫–Ω–µ–π–º</span>
          <input id="loginNick" type="text" maxlength="20" placeholder="–í–∞—à –Ω–∏–∫" />
        </label>
        <label class="input">
          <span>–ü–∞—Ä–æ–ª—å</span>
          <input id="loginPass" type="password" maxlength="32" placeholder="–ü–∞—Ä–æ–ª—å" />
        </label>
        <button id="loginBtn" class="primary wide">–í–æ–π—Ç–∏</button>
      </div>

      <!-- –†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø -->
      <div id="registerForm" class="auth-form hidden">
        <label class="input">
          <span>–ù–∏–∫–Ω–µ–π–º</span>
          <input id="regNick" type="text" maxlength="20" placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –Ω–∏–∫" />
        </label>
        <label class="input">
          <span>–ü–∞—Ä–æ–ª—å</span>
          <input id="regPass" type="password" maxlength="32" placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å" />
        </label>
        <button id="registerBtn" class="primary wide">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
        <p class="hint">–ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤–æ–π–¥–∏—Ç–µ —Å —Ç–µ–º –∂–µ –Ω–∏–∫–æ–º –∏ –ø–∞—Ä–æ–ª–µ–º.</p>
      </div>
    </div>
  </section>

  <!-- ===== –õ–û–ë–ë–ò / –í–ò–¢–†–ò–ù–ê –ò–ì–† ===== -->
  <section id="lobbyView" class="page hidden">
    <header class="topbar topbar-light">
      <div class="brand-left">
        <div class="bubble-logo site-name">mellstroy.game</div>
      </div>
      <div class="acc-box glass-card-small">
        <div class="acc-line">
          <div id="accNick" class="acc-nick">Player</div>
          <div id="accBalance" class="acc-balance">0 ‚ÇΩ</div>
        </div>
        <button id="addDemo" class="mini-btn">+ –ü–æ–ø–æ–ª–Ω–∏—Ç—å –¥–µ–º–æ</button>
      </div>
    </header>

    <main class="lobby-scroll">
      <!-- –∫–∞—Ä—Ç–æ—á–∫–∞ —Ä—É–ª–µ—Ç–∫–∏ -->
      <div class="game-card glass-card">
        <div class="game-card-left">
          <div class="game-title-row">
            <div class="game-title bubble-logo">Roulette</div>
            <div class="game-tag">–ö–ª–∞—Å—Å–∏–∫–∞ –∫–∞–∑–∏–Ω–æ</div>
          </div>
          <div class="game-desc">
            –ñ–∏–≤–æ–µ –∫–æ–ª–µ—Å–æ, —Ñ–∏—à–∫–∏ –ø–æ –±–æ–∫–∞–º, —à–∞–Ω—Å —Å–æ—Ä–≤–∞—Ç—å –º–Ω–æ–∂–∏—Ç–µ–ª—å.
          </div>
          <button class="primary play-btn" data-game="roulette">–ò–≥—Ä–∞—Ç—å</button>
        </div>
        <div class="game-card-right roulette-preview">
          <div class="preview-wheel">
            <!-- –º–∏–Ω–∏-–∫—Ä—É–∂–æ–∫ –ø—Ä–µ–≤—å—é, –ø—Ä–æ—Å—Ç–æ –¥–µ–∫–æ—Ä -->
            <div class="preview-inner"></div>
          </div>
        </div>
      </div>

      <!-- –∫–∞—Ä—Ç–æ—á–∫–∞ plinko -->
      <div class="game-card glass-card">
        <div class="game-card-left">
          <div class="game-title-row">
            <div class="game-title bubble-logo">Plinko</div>
            <div class="game-tag">–†–∏—Å–∫ / –Ω–∞–≥—Ä–∞–¥–∞</div>
          </div>
          <div class="game-desc">
            –®–∞—Ä –ø–∞–¥–∞–µ—Ç —á–µ—Ä–µ–∑ –ø–∏–Ω—ã. –í—ã—Å–æ–∫–∏–π x ‚Äî –∫—Ä–∞—Å–Ω—ã–π. –ú–∞–ª—ã–π x ‚Äî –∑–µ–ª—ë–Ω—ã–π.
            –î–æ–º –≤—Å–µ–≥–¥–∞ —Å –ø–µ—Ä–µ–≤–µ—Å–æ–º üòâ
          </div>
          <button class="primary play-btn" data-game="plinko">–ò–≥—Ä–∞—Ç—å</button>
        </div>
        <div class="game-card-right plinko-preview">
          <div class="peg"></div><div class="peg"></div><div class="peg"></div>
          <div class="peg"></div><div class="peg"></div><div class="peg"></div>
        </div>
      </div>

      <!-- –∫–∞—Ä—Ç–æ—á–∫–∞ mines -->
      <div class="game-card glass-card">
        <div class="game-card-left">
          <div class="game-title-row">
            <div class="game-title bubble-logo">Mines</div>
            <div class="game-tag">–û—Ç–∫—Ä–æ–π –∏ –Ω–µ –≤–∑–æ—Ä–≤–∏—Å—å</div>
          </div>
          <div class="game-desc">
            –ü–æ–ª–µ 4√ó4. –ß–µ–º –¥–æ–ª—å—à–µ –∂–∏–≤—ë—à—å ‚Äî —Ç–µ–º –±–æ–ª—å—à–µ –º–Ω–æ–∂–∏—Ç–µ–ª—å. –ë–æ–º–±–∞ = –≤—Å—ë.
          </div>
          <button class="primary play-btn" data-game="mines">–ò–≥—Ä–∞—Ç—å</button>
        </div>
        <div class="game-card-right mines-preview">
          <div class="cell">?</div><div class="cell bombish">‚úñ</div>
          <div class="cell">‚úì</div><div class="cell">?</div>
        </div>
      </div>
    </main>
  </section>

  <!-- ===== –≠–ö–†–ê–ù –ò–ì–†–´ (–ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ) ===== -->
  <section id="gameView" class="page hidden">
    <header class="game-topbar">
      <button id="backToLobby" class="back-btn">‚Üê –í –ª–æ–±–±–∏</button>
      <div class="bubble-logo now-playing" id="gameTitle">Roulette</div>
      <div class="acc-box glass-card-small">
        <div class="acc-line">
          <div id="accNickGame" class="acc-nick">Player</div>
          <div id="accBalanceGame" class="acc-balance">0 ‚ÇΩ</div>
        </div>
      </div>
    </header>

    <!-- ROULETTE -->
    <section id="rouletteSection" class="game-section hidden">
      <div class="roulette-layout">
        <aside class="bet-panel glass-card">
          <div class="panel-title">–°—Ç–∞–≤–∫–∞</div>

          <label class="input compact">
            <span>–°—É–º–º–∞ ‚ÇΩ</span>
            <input id="rouletteBet" type="number" min="1" step="1" value="100" />
          </label>

          <div class="bet-chips-row">
            <button class="chip" data-target="rouletteBet" data-val="100">100</button>
            <button class="chip" data-target="rouletteBet" data-val="500">500</button>
            <button class="chip" data-target="rouletteBet" data-val="1000">1K</button>
          </div>

          <div class="bet-block">
            <div class="bet-label">–í—ã–±–æ—Ä</div>
            <select id="rouletteType" class="select">
              <option value="red">–ö—Ä–∞—Å–Ω–æ–µ</option>
              <option value="black">–ß—ë—Ä–Ω–æ–µ</option>
              <option value="even">–ß—ë—Ç</option>
              <option value="odd">–ù–µ—á—ë—Ç</option>
              <option value="single">–ß–∏—Å–ª–æ</option>
            </select>
          </div>

          <label class="input compact" id="rouletteNumberWrap" style="display:none;">
            <span>–ù–æ–º–µ—Ä (0‚Äì36)</span>
            <input id="rouletteNumber" type="number" min="0" max="36" placeholder="0‚Äì36" />
          </label>

          <button id="rouletteSpin" class="primary wide">–ö—Ä—É—Ç–∏—Ç—å –∫–æ–ª–µ—Å–æ</button>

          <div id="rouletteInfo" class="info-line"></div>
        </aside>

        <div class="table-area glass-card">
          <!-- –ö–∞–Ω–≤–∞—Å —Ä—É–ª–µ—Ç–∫–∏ -->
          <canvas id="rouletteCanvas" class="roulette-canvas"></canvas>
          <div class="roulette-hint">
            –î–µ—Ä–µ–≤—è–Ω–Ω–æ–µ –∫–æ–ª–µ—Å–æ, –∂–∏–≤–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞, –∫–∞–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –∫–∞–∑–∏–Ω–æ.
          </div>
        </div>
      </div>
    </section>

    <!-- PLINKO -->
    <section id="plinkoSection" class="game-section hidden">
      <div class="plinko-layout glass-card">
        <div class="plinko-controls">
          <label class="input compact">
            <span>–°—Ç–∞–≤–∫–∞ ‚ÇΩ</span>
            <input id="plinkoBet" type="number" min="1" step="1" value="100" />
          </label>

          <div class="bet-chips-row">
            <button class="chip" data-target="plinkoBet" data-val="50">50</button>
            <button class="chip" data-target="plinkoBet" data-val="100">100</button>
            <button class="chip" data-target="plinkoBet" data-val="250">250</button>
            <button class="chip" data-target="plinkoBet" data-val="500">500</button>
          </div>

          <label class="input compact">
            <span>–†—è–¥—ã</span>
            <input id="plinkoRows" type="number" min="8" max="14" value="10" />
          </label>

          <button id="plinkoPlay" class="primary wide">–ë—Ä–æ—Å–∏—Ç—å —à–∞—Ä</button>
          <div id="plinkoInfo" class="info-line"></div>
        </div>

        <canvas id="plinkoCanvas" class="plinko-canvas"></canvas>
      </div>
    </section>

    <!-- MINES -->
    <section id="minesSection" class="game-section hidden">
      <div class="mines-layout glass-card">
        <div class="mines-panel">
          <label class="input compact">
            <span>–°—Ç–∞–≤–∫–∞ ‚ÇΩ</span>
            <input id="minesBet" type="number" min="1" step="1" value="100" />
          </label>

          <div class="bet-chips-row">
            <button class="chip" data-target="minesBet" data-val="50">50</button>
            <button class="chip" data-target="minesBet" data-val="100">100</button>
            <button class="chip" data-target="minesBet" data-val="250">250</button>
            <button class="chip" data-target="minesBet" data-val="500">500</button>
          </div>

          <div class="mines-setup-row">
            <label class="input compact">
              <span>–ú–∏–Ω—ã</span>
              <input id="minesCount" type="number" min="1" max="15" value="5" />
            </label>
            <div class="stepper">
              <button id="minesDec" class="ghost step-btn">‚Äì</button>
              <button id="minesInc" class="ghost step-btn">+</button>
            </div>
          </div>

          <div class="mine-actions">
            <button id="minesStart" class="primary wide">–°—Ç–∞—Ä—Ç</button>
            <button id="minesCashout" class="ghost wide" disabled>–ó–∞–±—Ä–∞—Ç—å</button>
          </div>

          <div id="minesInfo" class="info-line"></div>
        </div>

        <div class="mines-grid-wrap">
          <div id="minesGrid" class="mines-grid"></div>
        </div>
      </div>
    </section>
  </section>

  <!-- —Ç–æ—Å—Ç -->
  <div id="toast" class="toast hidden"></div>

  <!-- –º–æ–¥–∞–ª–∫–∞ –≤—ã–∏–≥—Ä—ã—à–∞ / –ø—Ä–æ–∏–≥—Ä—ã—à–∞ -->
  <div id="resultModal" class="modal hidden" data-game="">
    <div class="modal-content glass-card">
      <div class="bubble-logo modal-logo">mellstroy.game</div>
      <div id="modalMessage" class="modal-message">–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏!</div>
      <div id="modalAmount" class="modal-amount bubble-logo">+100</div>
      <div class="modal-buttons">
        <button id="modalOk" class="ghost modal-btn wide">OK</button>
        <button id="modalRetry" class="primary modal-btn wide">–ü–æ—Å—Ç–∞–≤–∏—Ç—å –µ—â—ë</button>
      </div>
    </div>
  </div>

  <script src="./app.js"></script>
</body>
</html>
